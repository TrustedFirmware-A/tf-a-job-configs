- project:
    name: "tf-a"

    views:
      - "tf-a":
          name: "TF-A"
          regex: "^tf-a(-.*)?$"

- view-template:
    id: "tf-a"

    name: "{name}"
    view-type: "list"
    regex: "{regex}"
    filter-queue: true
    filter-executors: true

    columns:
      - "status"
      - "weather"
      - "job"
      - "last-success"
      - "last-failure"
      - "last-duration"
      - "build-button"

- builder:
    name: "tf-a-clone"

    builders:
      - shell: !include-raw-verbatim: "scripts/clone.sh"

- parameter:
    name: "tf-a-clone-parameters"

    parameters:
      - string:
          name: "CLONE_REPOS"
          default: "{projects}"

- property:
    name: "tf-a-clone-properties"

    properties:
      - inject:
          script-content: !include-raw-verbatim: "scripts/clone-properties.sh"
          override-build-parameters: true

- property:
    name: "tf-a-ci-scripts"

    properties:
      - inject:
          properties-content: |
            DOWNLOAD_SERVER_URL={download_server_url}
            DOWNLOAD_SERVER_TF_A_URL={download_server_tf_a_url}
